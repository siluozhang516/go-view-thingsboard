import { CmdWrapper, WsService, WsSubscriber } from '../../shared/models/websocket/websocket.models';
import { AuthService } from '../../core/auth/auth.service';
import { NgZone } from "../../inversify/interface";
import { WebSocketSubject } from 'rxjs/webSocket';
import { AuthWsCmd, CmdUpdateMsg, NotificationSubscriber, TelemetrySubscriber, WebsocketDataMsg } from '../../shared/models/telemetry/telemetry.models';
export declare abstract class WebsocketService<T extends WsSubscriber> implements WsService<T> {
    protected authService: AuthService;
    protected ngZone: NgZone;
    protected apiEndpoint: string;
    protected cmdWrapper: CmdWrapper;
    protected window: Window;
    isActive: boolean;
    isOpening: boolean;
    isOpened: boolean;
    isReconnect: boolean;
    socketCloseTimer: any;
    reconnectTimer: any;
    lastCmdId: number;
    subscribersCount: number;
    subscribersMap: Map<number, TelemetrySubscriber | NotificationSubscriber>;
    reconnectSubscribers: Set<WsSubscriber>;
    wsUri: string;
    dataStream: WebSocketSubject<CmdWrapper | CmdUpdateMsg | AuthWsCmd>;
    errorName: string;
    protected constructor(authService: AuthService, ngZone: NgZone, apiEndpoint: string, cmdWrapper: CmdWrapper, window: Window);
    abstract subscribe(subscriber: WsSubscriber): any;
    abstract update(subscriber: T): any;
    abstract unsubscribe(subscriber: T): any;
    abstract processOnMessage(message: WebsocketDataMsg): any;
    protected nextCmdId(): number;
    protected publishCommands(): void;
    private checkToClose;
    private reset;
    private closeSocket;
    private tryOpenSocket;
    private openSocket;
    private onOpen;
    private onMessage;
    private onError;
    private onClose;
    private showWsError;
}
